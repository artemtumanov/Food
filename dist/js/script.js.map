{"version":3,"file":"script.js","mappings":"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","sources":["webpack://food/./src/js/main.js"],"sourcesContent":["// 'use strict'\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n\r\n\t// Реализуем функционал табов на странице\r\n\r\n\tconst tabContent = document.querySelectorAll('.tabcontent'), // Контент наших табов\r\n\t  tabItems = document.querySelector('.tabheader__items'), // Родитель табов\r\n\t  tabItem = tabItems.querySelectorAll('.tabheader__item'); //Сами табы\r\n\r\n\t// Пишем функцию, которая скрывает весь контент табов + убирает класс активности у таба\r\n\tfunction hideAllTabs () {\r\n\t\ttabContent.forEach(item => {\r\n\t\t\titem.classList.remove('tabcontent__show', 'fade');\r\n\t\t\titem.classList.add('tabcontent__hide');\r\n\t\t})\r\n\r\n\t\ttabItem.forEach(item => {\r\n\t\t\titem.classList.remove('tabheader__item_active')\r\n\t\t})\r\n\t};\r\n\r\n\t// Пишем функцию, которая показывает контент определенного таба под индексом и добавляет класс активности табу. Так же добавляем анимацию\r\n\tfunction showActiveTab (i = 0) {\r\n\t\ttabContent[i].classList.remove('tabcontent__hide');\r\n\t\ttabContent[i].classList.add('tabcontent__show', 'fade');\r\n\t\ttabItem[i].classList.add('tabheader__item_active');\r\n\t};\r\n\r\n\t// Вызываем функции, чтобы при загрузки страницы показывался первый таб\r\n\thideAllTabs();\r\n\tshowActiveTab();\r\n\r\n\t// Вешаем на родитель табов событие клика. С помощью делегирования событий перебираем наши табы, и если таргет события при клике совпал  с перебираемым табом, то вызываем сначала функцию скрыть все табы, потом показываем контент таба под индексом\r\n\ttabItems.addEventListener('click', (e) => {\r\n\t\tif (e.target && e.target.classList.contains('tabheader__item')) {\r\n\t\t\ttabItem.forEach((item, i) => {\r\n\t\t\t\tif(e.target == item) {\r\n\t\t\t\t\thideAllTabs();\r\n\t\t\t\t\tshowActiveTab(i);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t});\r\n\r\n\t//Реализуем функционал таймера на странице\r\n\r\n\tconst deadline = '2024-02-22T09:09:51.294Z';\r\n\r\n\tfunction getTimeRemaining(endtime) {\r\n\t\tconst t = Date.parse(endtime) - Date.parse(new Date()),\r\n\t\t\t  days = Math.floor(t / (1000 * 60 * 60 * 24)),\r\n\t\t\t  hours = Math.floor((t / (1000 * 60 * 60)) % 24),\r\n\t\t\t  minutes = Math.floor((t / (1000 * 60)) % 60),\r\n\t\t\t  seconds = Math.floor((t / 1000) % 60);\r\n\r\n\t\t\t  return {\r\n\t\t\t\ttotal: t,\r\n\t\t\t\tdays: days,\r\n\t\t\t\thours: hours,\r\n\t\t\t\tminutes: minutes,\r\n\t\t\t\tseconds: seconds\r\n\t\t\t  }\r\n\t}\r\n\r\n\tfunction addZero (time) {\r\n\t\tif (time >= 0 && time < 10) {\r\n\t\t\treturn `0${time}`;\r\n\t\t} else {\r\n\t\t\treturn time;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setClock (endtime, selector) {\r\n\t\tconst timer = document.querySelector(selector),\r\n\t\t\t  days = timer.querySelector('#days'),\r\n\t\t\t  timeInterval = setInterval(updateClock, 1000);\r\n\r\n\t\tupdateClock();\r\n\r\n\t\tfunction updateClock() {\r\n\t\t\tconst t = getTimeRemaining(endtime);\r\n\t\t\tdays.innerHTML = addZero(t.days);\r\n\t\t\thours.innerHTML = addZero(t.hours);\r\n\t\t\tminutes.innerHTML = addZero(t.minutes);\r\n\t\t\tseconds.innerHTML = addZero(t.seconds);\r\n\r\n\t\t\tif(t.total <= 1) {\r\n\t\t\t\tclearInterval(timeInterval);\r\n\t\t\t\tdays.innerHTML = '00';\r\n\t\t\t\thours.innerHTML = '00';\r\n\t\t\t\tminutes.innerHTML = '00';\r\n\t\t\t\tseconds.innerHTML = '00';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetClock(deadline, '.timer');\r\n\r\n\r\n\t// Реализуем функционал модального окна\r\n\r\n\t//Получаем наши кнопки по дата атрибутам и наше модальное окно.\r\n\tconst modalBtn = document.querySelectorAll('[data-modal]'),\r\n\t\t  modal = document.querySelector('.modal');\r\n\r\n\t// Напишем функцию открытия модалки\r\n\tfunction openModal() {\r\n\t\tmodal.classList.add('show');// Показываем модалку\r\n\t\tmodal.classList.remove('hide');\r\n\t\tdocument.body.style.overflow = 'hidden'; // Отменяем прокрутку страницы при открытой модалке\r\n\t}\r\n\t// Навесим на все наши кнопки открытие модалки\r\n\tmodalBtn.forEach(item => {\r\n\t\titem.addEventListener('click', openModal);\r\n\t})\r\n\r\n\t// Напишем функцию закрытия модалки\r\n\tfunction closeModal () {\r\n\t\tmodal.classList.add('hide');\r\n\t\tmodal.classList.remove('show');// Закрываем модалку\r\n\t\tdocument.body.style.overflow = 'visible'; // Возвращаем прокрутку\r\n\t}\r\n\r\n\t// Сделаем закрытие модалки при клике на оверлей \r\n\tmodal.addEventListener('click', (e) => {\r\n\t\tif (e.target === modal || e.target.getAttribute('data-close') == '') {\r\n\t\t\tcloseModal();\r\n\t\t}\r\n\t})\r\n\r\n\t// Закрытие модалки на клавишу ESC\r\n\tdocument.addEventListener('keydown', (e) => {\r\n\t\tif (e.code === 'Escape') {\r\n\t\t\tcloseModal();\r\n\t\t}\r\n\t})\r\n\r\n\t// Реализуем функционал появления модалки через какое-то время (например, 5 сек)\r\n\t// const openModalByTimer = setTimeout(openModal, 5000);\r\n\t\r\n\t// Реализуем функционал открытия модалки после прокуртки страницы до конца\r\n\t// Напишем функцию, которая сравнивает количество отскроленного + высоту показываемого контента со всей высотой документа и открывает модалку. После чего удаляет обработчик события, чтобы не повторялся.\r\n\tfunction showModalByScroll() {\r\n\t\tif (window.scrollY + document.documentElement.clientHeight >= document.documentElement.scrollHeight) {\r\n\t\t\topenModal();\r\n\t\t\twindow.removeEventListener('scroll', showModalByScroll);\r\n\t\t}\r\n\t}\r\n\r\n\twindow.addEventListener('scroll', showModalByScroll);\r\n\r\n\r\n\t// Используем классы\r\n\r\n\tclass MenuCard {\r\n\t\t// Создаем конструктор класса с различными переменными + rest оператор в конце\r\n\t\tconstructor (src, alt, title, descr, price, parentSelector, ...classes) {\r\n\t\t\tthis.src = src; // Путь к картинке\r\n\t\t\tthis.alt = alt; // Альтернативное название\r\n\t\t\tthis.title = title; // Title\r\n\t\t\tthis.descr = descr; // Описание\r\n\t\t\tthis.price = price; // Цена\r\n\t\t\tthis.classes = classes; // Массив классов для карточек\r\n\t\t\tthis.transfer = 27; // Курс гривны к доллару\r\n\t\t\tthis.parent = document.querySelector(parentSelector); // Получаем родителя наших карточек\r\n\t\t\tthis.changeToUAH(); // Вызываем метод конвертации валюты\r\n\t\t}\r\n\r\n\t\t// Метод для конвертации валюты\r\n\t\tchangeToUAH() {\r\n\t\t\tthis.price = this.price * this.transfer;\r\n\t\t}\r\n\r\n\t\t// Метод рендора наших карточек\r\n\t\trender() {\r\n\t\t\tconst element = document.createElement('div'); // Создали элемент div\r\n\t\t\t\r\n\t\t\t// Если мы не передаем никакие классы в classes, то по умолчанию подставится класс menu__active\r\n\t\t\tif (this.classes.length === 0) {\r\n\t\t\t\tthis.element = 'menu__item';\r\n\t\t\t\telement.classList.add(this.element);\r\n\t\t\t} else { // Иначе пробегаемся по нашему массиву и присваиваем классы нашему element\r\n\t\t\t\tthis.classes.forEach(classItem => element.classList.add(classItem));\r\n\t\t\t}\r\n\r\n\t\t\t// Формируем верстку карточки\r\n\t\t\telement.innerHTML = `\r\n\t\t\t\t<img src=${this.src} alt=${this.alt}>\r\n\t\t\t\t<h3 class=\"menu__item-subtitle\">${this.title}</h3>\r\n\t\t\t\t<div class=\"menu__item-descr\">${this.descr}</div>\r\n\t\t\t\t<div class=\"menu__item-divider\"></div>\r\n\t\t\t\t<div class=\"menu__item-price\">\r\n\t\t\t\t\t<div class=\"menu__item-cost\">Цена:</div>\r\n\t\t\t\t\t<div class=\"menu__item-total\"><span>${this.price}</span> грн/день</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\t// Добавляем карточки на страницу\r\n\t\t\tthis.parent.append(element);\r\n\t\t}\r\n\t}\r\n\r\n\t// Создаем экземпляры нашего класса с различными значениями\r\n\tnew MenuCard(\r\n\t\t\"img/tabs/vegy.jpg\",\r\n\t\t\"vegy\",\r\n\t\t'Меню \"Фитнес\"',\r\n\t\t'Меню \"Фитнес\" - это новый подход к приготовлению блюд: больше свежих овощей и фруктов. Продукт активных и здоровых людей. Это абсолютно новый продукт с оптимальной ценой и высоким качеством!',\r\n\t\t9,\r\n\t\t'.menu__field .container',\r\n\t).render();\r\n\r\n\tnew MenuCard(\r\n\t\t\"img/tabs/elite.jpg\",\r\n\t\t\"elite\",\r\n\t\t'Меню “Премиум”',\r\n\t\t'В меню “Премиум” мы используем не только красивый дизайн упаковки, но и качественное исполнение блюд. Красная рыба, морепродукты, фрукты - ресторанное меню без похода в ресторан!',\r\n\t\t15,\r\n\t\t'.menu__field .container',\r\n\t\t'menu__item',\r\n\t).render();\r\n\r\n\tnew MenuCard(\r\n\t\t\"img/tabs/post.jpg\",\r\n\t\t\"post\",\r\n\t\t'Меню \"Постное\"',\r\n\t\t'Меню “Постное” - это тщательный подбор ингредиентов: полное отсутствие продуктов животного происхождения, молоко из миндаля, овса, кокоса или гречки, правильное количество белков за счет тофу и импортных вегетарианских стейков.',\r\n\t\t11,\r\n\t\t'.menu__field .container',\r\n\t\t'menu__item'\r\n\t).render();\r\n\r\n\r\n\t// Форма\r\n\tconst forms = document.querySelectorAll('form'); // Получаем все формы с сайта\r\n\r\n\tconst message = { // Создаем объект с сообщениями после нажатия на submit\r\n\t\tloading: 'img/form/spinner.svg',\r\n\t\tsuccess: 'спасибо, скоро мы с вами свяжемся',\r\n\t\tfailure: 'Что-то пошло не так'\r\n\t}\r\n\r\n\t// Навесим нашу функцию на каждую форму\r\n\tforms.forEach(item => {\r\n\t\tpostData(item);\r\n\t})\r\n\r\n\t//Напишем функцию для отправки данных на сервер, которая будет принимать форму(чтобы проще было внутри функции работаь с конкретной формой)\r\n\tfunction postData(form) {\r\n\t\tform.addEventListener('submit', (e) => {\r\n\t\t\te.preventDefault(); //Отменяем стандартное поведение браузера при нажатии на кнопку формы\r\n\r\n\t\t\tconst statusMessage = document.createElement('img');\r\n\t\t\tstatusMessage.src = message.loading;\r\n\t\t\tstatusMessage.style.cssText = `\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t`;\r\n\t\t\tform.insertAdjacentElement('afterend', statusMessage); // Эти 4 строки создают нам блок на странице с сообщением для пользователя о процессе отпраки данных с формы\r\n\r\n\t\t\tconst request = new XMLHttpRequest();//Создаем реквест\r\n\t\t\trequest.open('POST', 'server.php'); //Настраиваем его\r\n\r\n\t\t\tconst formData = new FormData(form); // В случае если нам не нужно передавать данные в формате json, можно воспользоваться объектом FormData. Это первый способ передачи данных на сервер. Он собирает все значения из формы и формирует их по типу ключ-значение. В инпутах обязательно должны быть с атрибутом name. Так же важное замечание: Если используется FormData, то устанавливать request.setRequestHeader не нужно, он подставляется автоматически. В противном случае мы получим на сервере пустой массив.\r\n\r\n\t\t\trequest.send(formData); // Отправляем наши данные из FormData\r\n\r\n\t\t\t//Второй способ, если нам нужно отправить данные в формате JSON:\r\n\t\t\t//Для этого необходимо создать пустой объект и с помощью forEach записать в него значения из FormData. После чего превратить в формат json. В этом случае нам уже необходимо будет устанавливать request.setRequestHeader\r\n\t\t\t// request.setRequestHeader('Content-type', 'application/json');\r\n\t\t\t// const formData = new FormData(form);\r\n\t\t\t// const object = {};\r\n\t\t\t// formData.forEach(function(value, key) {\r\n\t\t\t// \tobject[key] = value;\r\n\t\t\t// });\r\n\t\t\t// const json = JSON.stringify(object);\r\n\t\t\t// request.send(json);\r\n\t\t\t//Так же в этом случае необходимо добавить строку в server.php\r\n\r\n\r\n\t\t\trequest.addEventListener('load', () => {\r\n\t\t\t\tif(request.status === 200) {\r\n\t\t\t\t\tconsole.log(request.response);\r\n\t\t\t\t\tshowThanksMOdal(message.success); // Если все ок, выводим в консоль наши данные и меняем текст сообзения\r\n\t\t\t\t\tform.reset(); // Сбрасываем значения формы\r\n\t\t\t\t\tstatusMessage.remove()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tshowThanksMOdal(message.failure); // Если какая-то ошибка - выводим сообщение\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t// Напишем функцию красивого оповещения пользователя с окном благодарности путем скрытия элемента modal__dialog и встривания на его место окна с благодарностью\r\n\tfunction showThanksMOdal(message) {\r\n\t\tconst prevModalDialog = document.querySelector('.modal__dialog'); //Получаем modal__dialog\r\n\t\tprevModalDialog.classList.add('hide'); // Скрываем его\r\n\t\topenModal(); // Вызываем функцию паказа модального окна\r\n\r\n\t\tconst thanksModal = document.createElement('div'); //Создаем элемент окна благодарности\r\n\t\tthanksModal.classList.add('modal__dialog'); // Добавим ему класс modal__dialog\r\n\t\tthanksModal.innerHTML = `\r\n\t\t\t<div class=\"modal__content\">\r\n\t\t\t\t<div class=\"modal__close\" data-close>×</div>\r\n\t\t\t\t<div class=\"modal__title\">${message}</div>\r\n\t\t\t</div>\r\n\t\t`; //Формируем создание верстки для окна благодарности. Тут необходимо помнить, что наш крестик создается динамически, соответственно он не будет получен с помощью аттрибута. Для этого был доработан обработчик события при закрытии модалки добавлением строки e.target.getAttribute('data-close') == '' в условие \r\n\r\n\t\tdocument.querySelector('.modal').append(thanksModal); // Добавляем элемент на страницу\r\n\t\tsetTimeout(() => {\r\n\t\t\tthanksModal.remove();\r\n\t\t\tprevModalDialog.classList.add('show');\r\n\t\t\tprevModalDialog.classList.remove('hide');\r\n\t\t\tcloseModal();\r\n\t\t}, 4000) // Через 4 секунды удаляем окно благодарности, возвращаем модалку и закрываем её\r\n\t}\r\n\r\n});"],"names":["document","addEventListener","tabContent","querySelectorAll","tabItems","querySelector","tabItem","hideAllTabs","forEach","item","classList","remove","add","showActiveTab","i","e","target","contains","deadline","getTimeRemaining","endtime","t","Date","parse","days","Math","floor","hours","minutes","seconds","total","addZero","time","setClock","selector","timer","timeInterval","setInterval","updateClock","innerHTML","clearInterval","modalBtn","modal","openModal","body","style","overflow","closeModal","getAttribute","code","showModalByScroll","window","scrollY","documentElement","clientHeight","scrollHeight","removeEventListener","MenuCard","constructor","src","alt","title","descr","price","parentSelector","classes","transfer","parent","changeToUAH","render","element","createElement","length","classItem","append","forms","message","loading","success","failure","postData","form","preventDefault","statusMessage","cssText","insertAdjacentElement","request","XMLHttpRequest","open","formData","FormData","send","status","console","log","response","showThanksMOdal","reset","prevModalDialog","thanksModal","setTimeout"],"sourceRoot":""}